# @package _global_
defaults:
  - override /model: small
  - override /transforms: baseline
  - override /scheduler: null

experience_name: dev

data:
  kwargs:
    batch_size: 64
    num_positives:
      train: 'all'
      test: 'all'

transforms:
  image:
    train_resize_size: 36
    train_resolution: 32
    test_resize_size: 36
    test_resolution: 36

loss:
  hardest_fraction: 1.0

trainer:
  kwargs:
    max_epochs: 6
  callbacks: 
    - name: HardestFractionDecay
      kwargs:
        total_steps: 500
        min_fraction: 0.0
        schedule: hyperbolic
        k: 16

scheduler:
  - name: LinearLRWarmup
    kwargs:
      num_warmup_steps: 200
    pl_kwargs:
      interval: step
  - name: MultiStepLR
    kwargs:
      milestones: [5]
      gamma: 0.1
    pl_kwargs:
      interval: epoch
